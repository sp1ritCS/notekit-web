<!DOCTYPE html>
<html>
	<head>
		<title>NoteKit Drawing Viewer</title>
	</head>
	<body>	
		<canvas id="drawing">
			<p>Your browser doesn't support HTML Canvas</p>
		</canvas>
		<p>
			<textarea id="encoded" cols="80" rows="25" placeholder="Insert the base64 encoded drawing here"></textarea>
			<button id="render_btn">Render</button>
		</p>
		<script src="./notekitweb.js"></script>
		<script>
			const canvas = document.getElementById("drawing");
			const input = document.getElementById("encoded");
			const btn = document.getElementById("render_btn");

			btn.addEventListener("click", (_e) => {
				btn.disabled = 1;
				notekit_drawing_from_string(input.value)
					.then((drawing) => {
						drawing.draw_to_canvas(canvas);
						btn.disabled = 0;
					})
					.catch((err) => {
						console.error(err);
						btn.disabled = 0;
					});
			});
		</script>
	</body>
</html>
